Broadcasting to room: kn0mbk data type: user-joined
Broadcasted to 4 clients in room kn0mbk
Received WebSocket message: { type: 'init-session', sessionId: 'session_1757367175851_mzaaz2q' }
handleInitSession: sessionId: session_1757367175851_mzaaz2q session found: true
ğŸ” INIT SESSION: Checking restoration conditions: {
  sessionId: 'session_1757367175851_mzaaz2q',
  hasRoomId: true,
  hasNickname: true,
  roomId: 'kn0mbk',
  nickname: 'Hejne'
}
Received WebSocket message: {
  type: 'join-room',
  roomId: 'kn0mbk',
  nickname: 'Hejne',
  sessionId: 'session_1757367175851_mzaaz2q'
}
Handling join-room for: kn0mbk Hejne
JOIN ROOM: Looking for room: kn0mbk with nickname: Hejne sessionId: session_1757367175851_mzaaz2q
ğŸ‰ Sending immediate welcome message for new room join: Hejne
Received WebSocket message: { type: 'app-visibility', visible: true }
ğŸ“± App visibility for session_1757367175851_mzaaz2q: foreground (set to: true)
Received WebSocket message: { type: 'app-visibility', visible: true }
ğŸ“± App visibility for session_1757367175851_mzaaz2q: foreground (set to: true)
JOIN ROOM: Found room: {
  id: 'kn0mbk',
  name: 'Quick Chat Room',
  createdBy: 'anonymous',
  maxParticipants: 10,
  expiresAt: 2025-09-08T21:35:20.062Z,
  createdAt: 2025-09-08T21:05:20.219Z,
  isActive: true
}
Checking ban status for: {
  roomId: 'kn0mbk',
  sessionId: 'session_1757367175851_mzaaz2q',
  nickname: 'Hejne'
}
Ban check result: false
JOIN ROOM: User already in room via session restoration, skipping duplicate join
ğŸ‰ Sending immediate welcome message for duplicate join detection path
ğŸ”§ UPDATING PARTICIPANT: {
  roomId: 'kn0mbk',
  nickname: 'Hejne',
  sessionId: 'session_1757367175851_mzaaz2q'
}
Session restoration: Updated participant socket ID
Sending session-restored message to client, room: kn0mbk nickname: Hejne
ğŸ‰ Sending immediate welcome message after session restoration for: Hejne
Received WebSocket message: { type: 'app-visibility', visible: true }
ğŸ“± App visibility for session_1757367175851_mzaaz2q: foreground (set to: true)
Received WebSocket message: { type: 'ping' }
Received WebSocket message: { type: 'ping' }
Received WebSocket message: { type: 'ping' }
Received WebSocket message: { type: 'heartbeat-ack' }
Received WebSocket message: { type: 'heartbeat-ack' }
Received WebSocket message: { type: 'heartbeat-ack' }
Received WebSocket message: { type: 'ping' }